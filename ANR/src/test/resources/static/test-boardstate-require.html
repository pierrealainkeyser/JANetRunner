<html lang="en">
<head>
<link rel="stylesheet/less" type="text/css" href="../../../main/resources/static/css/game.less" />
<link rel="stylesheet" type="text/css" href="../../../main/resources/static/css/icons.css" />

<link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.3/animate.min.css" />

<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/less.js/2.4.0/less.js"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.16/require.min.js"></script>
<script type="text/javascript">
	require.config({
		baseUrl : "../../../main/resources/static/js/",
		paths : { jquery : "http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min",
			underscore : "http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.2/underscore-min",
			tweenlite : "http://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/TweenMax.min",//
			mousetrap : "http://cdnjs.cloudflare.com/ajax/libs/mousetrap/1.4.6/mousetrap.min",//
			conf : "./anr/conf" },//
		shim : {//
		tweenlite : { exports : 'TweenLite' }, //
		mousetrap : { exports : 'Mousetrap' }, //
		} //
	});

	require([ "jquery", "layout/package", "anr/boardstate", "anr/inputmanager" ],//
	function($, layout, BoardState, InputManager) {
		$(function() {
			var layoutManager = new layout.LayoutManager($("#main"));
			layoutManager.runLayout(function() {
				var board = new BoardState(layoutManager);
				var im = new InputManager(board);

				board.consumeMsg({//
				local : 'runner',//
				factions : { corp : 'nbn', runner : 'shaper' },//
				clicks : { active : 3, used : 0 },//
				turn : { phase : "Action", player : "corp" },//
				score : { corp : 0, runner : 0 }, //
				servers : [ { id : -1 }, { id : -2 }, { id : -3, actions : [ { cost : "{1:click}", text : "Run" } ] } ], });

				board.consumeMsg({//
					primary : { id : 1, text : "Encountering ice" },//
					cards : [//
							{ id : 0, url : "01080.png", faction : "corp", type : "id",
								location : { primary : "server", serverIndex : -3, secondary : "stack", index : 0 }, tokens : { credits : 5 } },//
							{ id : 60, url : "01033.png", faction : "runner", type : "id", location : { primary : "grip", index : 0 } },//

							{
								id : 1,
								url : "01088.png",
								faction : "corp",
								location : { primary : "server", serverIndex : -3, secondary : "ices", index : 0 },
								tokens : { power : 1 },//
								actions : [
										{ type : 'break', costs : [ { enabled : false }, { cost : "{3:credit}", enabled : true } ], text : "Break selected" },
										{ type : 'selection' },//
										{ type : 'trace', base : 0, max : 5, text : "Bid" } //

								],//
								subs : [ { id : 1, text : "{3:trace} If successful, place 1 power counter on |Data Raven|" } ] //
							},//
							{ id : 2, url : "01089.png", faction : "corp", location : { primary : "hand", index : 0 } },//
							{ id : 3, url : "01091.png", faction : "corp", location : { primary : "hand", index : 1 } }, //
							{ id : 4, url : "01086.png", faction : "corp", face : "down", zoomable : "up", accessible : true,
								location : { primary : "server", serverIndex : -1, secondary : "stack", index : 0 } }, //
							{ id : 5, url : "01085.png", faction : "corp", face : "down", zoomable : "down", accessible : true,
								location : { primary : "server", serverIndex : -1, secondary : "stack", index : 1 } } //
					] //
				});

				board.consumeMsg({//
				runs : [ { id : 0, server : -1 } ], //
				primary : { id : 60, text : "Begining of turn" },//
				cards : [ { id : 60, ordering : [ 2, 3 ], actions : [ { id : 10, type : 'ordering', text : "Done" } ] } ],//
				});

				setTimeout(layoutManager.withinLayout(function() {
					board.consumeMsg({//
					runs : [ { id : 0, server : -3 } ] //
					});
				}), 1000);

				setTimeout(layoutManager.withinLayout(function() {
					board.consumeMsg({//
					runs : [ { id : 0, operation : "remove" } ] //
					});
				}), 2000);

			});
		});
	});
</script>


</head>
<div id="main"></div>
</html>